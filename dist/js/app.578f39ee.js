(function(t){function e(e){for(var r,a,c=e[0],s=e[1],u=e[2],l=0,f=[];l<c.length;l++)a=c[l],i[a]&&f.push(i[a][0]),i[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);m&&m(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},a={app:0},i={app:0},o=[];function c(t){return s.p+"js/"+({about:"about"}[t]||t)+"."+{about:"2658a9b7"}[t]+".js"}function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n={about:1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise(function(e,n){for(var r="css/"+({about:"about"}[t]||t)+"."+{about:"eca463f8"}[t]+".css",i=s.p+r,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var u=o[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===i))return e()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++){u=f[c],l=u.getAttribute("data-href");if(l===r||l===i)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var r=e&&e.target&&e.target.src||i,o=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");o.request=r,delete a[t],m.parentNode.removeChild(m),n(o)},m.href=i;var d=document.getElementsByTagName("head")[0];d.appendChild(m)}).then(function(){a[t]=0}));var r=i[t];if(0!==r)if(r)e.push(r[2]);else{var o=new Promise(function(e,n){r=i[t]=[e,n]});e.push(r[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(t),u=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=i[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+r+": "+a+")");o.type=r,o.request=a,n[1](o)}i[t]=void 0}};var f=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/Cats-shop/dist/",s.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var f=0;f<u.length;f++)e(u[f]);var m=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"21bb":function(t,e,n){"use strict";var r=n("bcc9"),a=n.n(r);a.a},"2be4":function(t,e,n){"use strict";var r=n("4ecf"),a=n.n(r);a.a},"4ecf":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("header",{staticClass:"header"},[n("div",{staticClass:"header__pic"}),n("h1",{staticClass:"header__text"},[t._v("The Cat's Book Shop")]),n("cart-button",{staticClass:"cart"},[t._v("Корзина")])],1),n("router-view")],1)},i=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"button__box"},[n("router-link",{staticClass:"button__link",attrs:{to:"/cart"}},[t._v("Корзина")]),0!==this.totalQuantity?n("span",{staticClass:"button__text"},[t._v(" "+t._s(this.totalAmount)+" р. за "+t._s(this.totalQuantity)+" "+t._s(this.books)+".")]):t._e()],1)},c=[],s=n("cebc"),u=n("2f62"),l={name:"CartButton",props:{item:Object},computed:Object(s["a"])({},Object(u["c"])(["getCart","getTotalQuantity","getTotalAmount"]),{totalAmount:function(){var t=0;return this.getCart.length&&(t=this.getTotalAmount),t},totalQuantity:function(){var t=0;return this.getCart.length&&(t=this.getTotalQuantity),t},books:function(){switch(this.totalQuantity){case 1:return"книгу";case 2:case 3:case 4:return"книги";default:return"книг"}}})},f=l,m=(n("d7da"),n("2877")),d=Object(m["a"])(f,o,c,!1,null,"7622ef64",null);d.options.__file="CartButton.vue";var g=d.exports,h={name:"app",components:{cartButton:g}},p=h,_=(n("5c0b"),Object(m["a"])(p,a,i,!1,null,null,null));_.options.__file="App.vue";var v=_.exports,y=n("8c4f"),C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"content"},[n("aside",[n("filters-menu")],1),n("main",{staticClass:"goods"},[n("goods-list")],1)]),n("footer",{staticClass:"footer"})])},b=[],k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"filters"},[n("h2",{staticClass:"filters__title"},[t._v("Категории")]),n("ul",{staticClass:"filters__list"},t._l(this.getCategories,function(e,r){return n("li",{key:e,staticClass:"filters__item",class:{"filters__item--active":+r===t.getCurrentCategory},on:{click:function(e){t.changeCurrentCategory(+r)}}},[n("div",{staticClass:"filters__name"},[t._v(t._s(e))]),n("div",{staticClass:"filters__amount"},[t._v(t._s(t.getAmount[r]))])])}),0),n("h2",{staticClass:"filters__title"},[t._v("Фильтры")]),n("ul",{staticClass:"filters__list"},[n("li",{staticClass:"filters__item",class:{"filters__item--active":t.getIsInStock},on:{click:function(e){t.changeStatusIsInStock()}}},[t._v("Только в наличии")]),n("li",{staticClass:"filters__item",class:{"filters__item--active":1===t.getSortByPrice},on:{click:function(e){t.changeCurrentSortByPrice(1)}}},[t._v("По возрастанию цены")]),n("li",{staticClass:"filters__item",class:{"filters__item--active":-1===t.getSortByPrice},on:{click:function(e){t.changeCurrentSortByPrice(-1)}}},[t._v("По убыванию цены")])])])},I=[],S={name:"FiltersMenu",computed:Object(s["a"])({},Object(u["c"])(["getCategories","getCurrentCategory","getIsInStock","getSortByPrice","getAmount"]),Object(u["b"])(["changeCategory","changeIsInStock","changeSortByPrice"])),methods:{changeCurrentCategory:function(t){this.$store.dispatch("changeCategory",t)},changeCurrentSortByPrice:function(t){var e=t,n=this.getSortByPrice;t===n&&(e=0),this.$store.dispatch("changeSortByPrice",e)},changeStatusIsInStock:function(){this.$store.dispatch("changeIsInStock")}}},j=S,O=(n("5b46"),Object(m["a"])(j,k,I,!1,null,"1a7d2c0e",null));O.options.__file="FiltersMenu.vue";var w=O.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goods"},t._l(this.getGoods,function(t){return n("goods-item",{key:t.id,attrs:{item:t}})}),1)},B=[],x=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"item"},[r("img",{staticClass:"item__pic",attrs:{src:n("5c34"),alt:t.item.name}}),r("h3",{staticClass:"item__name"},[t._v(t._s(t.item.name))]),r("div",{staticClass:"item__author"},[t._v("Автор: "+t._s(t.item.author))]),t.item.stock?r("div",{staticClass:"item__stock"},[t._v(t._s(t.item.stock)+" шт. на складе")]):t._e(),t.item.stock?t._e():r("div",{staticClass:"item__stock item__stock--off"},[t._v("Нет на складе")]),r("div",{staticClass:"item__price"},[t._v(t._s(t.item.price)+" р.")]),!t.isInCart(t.item.id)&&t.item.stock?r("button",{staticClass:"cart__add",on:{click:function(e){t.addToCart(t.item)}}},[t._v("Добавить в корзину"),r("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 510 510"}},[r("g",[r("path",{attrs:{d:"M153,408c-28.05,0-51,22.95-51,51s22.95,51,51,51s51-22.95,51-51S181.05,408,153,408z M0,0v51h51l91.8,193.8L107.1,306c-2.55,7.65-5.1,17.85-5.1,25.5c0,28.05,22.95,51,51,51h306v-51H163.2c-2.55,0-5.1-2.55-5.1-5.1v-2.551l22.95-43.35h188.7c20.4,0,35.7-10.2,43.35-25.5L504.9,89.25c5.1-5.1,5.1-7.65,5.1-12.75c0-15.3-10.2-25.5-25.5-25.5H107.1L84.15,0H0z M408,408c-28.05,0-51,22.95-51,51s22.95,51,51,51s51-22.95,51-51S436.05,408,408,408z"}})])])]):t._e(),t.isInCart(t.item.id)&&0!==this.getQuantity(t.item.id)?r("div",{staticClass:"quantity quantity--in-item"},[0!==this.getQuantity(t.item.id)?r("button",{staticClass:"quantity__button",on:{click:function(e){t.changeQuantity(t.item.id,-1)}}},[t._v("-")]):t._e(),0==this.getQuantity(t.item.id)?r("div",{staticClass:"quantity__empty-button"}):t._e(),r("span",{staticClass:"quantity__number"},[t._v(t._s(this.getQuantity(t.item.id)))]),this.getQuantity(t.item.id)!==t.item.stock?r("button",{staticClass:"quantity__button",on:{click:function(e){t.changeQuantity(t.item.id,1)}}},[t._v("+")]):t._e(),this.getQuantity(t.item.id)==t.item.stock?r("div",{staticClass:"quantity__empty-button"}):t._e()]):t._e()])},Q=[],T={name:"GoodsItem",props:{item:Object},computed:Object(s["a"])({},Object(u["c"])(["getCart","getQuantityInCart"]),Object(u["b"])(["addItemToCart","changeQuantityInCart"])),methods:{addToCart:function(t){this.$store.dispatch("addItemToCart",t)},isInCart:function(t){for(var e=this.getCart,n=0;n<e.length;n++)if(e[n].id===t)return!0;return!1},changeQuantity:function(t,e){var n={itemID:t,number:e};this.$store.dispatch("changeQuantityInCart",n)},getQuantity:function(t){var e=this.$store.getters.getQuantityInCart(t);return e}}},q=T,A=(n("5ea4"),Object(m["a"])(q,x,Q,!1,null,"637c908e",null));A.options.__file="GoodsItem.vue";var E=A.exports,$={name:"GoodsList",components:{goodsItem:E},props:{},computed:Object(s["a"])({},Object(u["c"])(["getGoods"])),created:function(){}},M=$,L=(n("2be4"),Object(m["a"])(M,P,B,!1,null,"317ac4b1",null));L.options.__file="GoodsList.vue";var G=L.exports,F={name:"home",components:{filtersMenu:w,goodsList:G}},H=F,N=(n("21bb"),Object(m["a"])(H,C,b,!1,null,null,null));N.options.__file="Home.vue";var z=N.exports;r["a"].use(y["a"]);var D=new y["a"]({routes:[{path:"/",name:"home",component:z},{path:"/cart",name:"cart",component:function(){return n.e("about").then(n.bind(null,"b789"))}},{path:"/order",name:"order",component:function(){return n.e("about").then(n.bind(null,"cf2a"))}}]}),J={cart:[]},K={getCart:function(t){return t.cart},getQuantityInCart:function(t){return function(e){for(var n=0;n<t.cart.length;n++)if(t.cart[n].id===e)return t.cart[n].quantity}},getTotalQuantity:function(t){return t.cart.reduce(function(t,e){return t+e.quantity},0)},getTotalAmount:function(t){return t.cart.reduce(function(t,e){return t+e.quantity*e.price},0)}},R={addItemToCart:function(t,e){var n=Object(s["a"])({},e,{quantity:1});t.cart.push(n)},removeItemsFromCart:function(t){t.cart=t.cart.filter(function(t){return 0!==t.quantity})},changeQuantityInCart:function(t,e){for(var n=e.itemID,r=e.number,a=function(e){t.cart[e].id===n&&(t.cart[e].quantity+=r,0===t.cart[e].quantity&&(t.cart=t.cart.filter(function(n){return n.id!==t.cart[e].id})))},i=0;i<t.cart.length;i++)a(i)},performOrder:function(t,e){var n=t.cart;n.map(function(t){for(var n=0;n<e.goods.goods.length;n++)e.goods.goods[n].id===t.id&&(e.goods.goods[n].stock-=t.quantity)}),t.cart=[]}},U={addItemToCart:function(t,e){t.commit("addItemToCart",e)},removeItemsFromCart:function(t){t.commit("removeItemsFromCart")},changeQuantityInCart:function(t,e){t.commit("changeQuantityInCart",e)},performOrder:function(t){t.state;var e=t.commit,n=t.rootState;e("performOrder",n)}},V={state:J,getters:K,mutations:R,actions:U},W=(n("55dd"),{goods:[{id:1,name:"Совершенный Кот",author:"С. Макконнелл",price:900,category:1,stock:0,pic:"../assets/book1.jpg"},{id:2,name:"Кот Да Винчи",author:"Д. Браун",price:450,category:0,stock:0,pic:""},{id:3,name:"Кот. Тайный язык информатики",author:"Ч. Петцольд",price:860,category:1,stock:0,pic:""},{id:4,name:"Кот-детектив",author:"Б. Шарикович",price:400,category:2,stock:2,pic:""},{id:5,name:"DevCats",author:"Л. Лионелл",price:880,category:1,stock:1,pic:""},{id:6,name:"Вперед мой кот",author:"П. Трачетт",price:320,category:3,stock:3,pic:""},{id:7,name:"Таинстренный разум кота",author:"Д. Берсел",price:510,category:3,stock:3,pic:""},{id:8,name:"Убийтво в кошачьем домике",author:"А. Кристи",price:310,category:2,stock:3,pic:""},{id:9,name:"Кот и нож",author:"А. Кристи",price:230,category:2,stock:7,pic:""},{id:10,name:"Мои усы",author:"Ж. Бор",price:120,category:3,stock:2,pic:""},{id:11,name:"Мои уши",author:"Ж. Бор",price:220,category:3,stock:2,pic:""},{id:12,name:"Нос, барбос и великолепный кот",author:"М. Котдивуар",price:480,category:2,stock:0,pic:""}],categories:{0:"Все книги",1:"Программирование",2:"Художественная",3:"Саморазвитие",4:"Кулинария"},currentCategory:0,sortByPrice:0,isInStock:!1}),X={getGoods:function(t){var e=[];if(e=0===t.currentCategory?t.goods:t.goods.filter(function(e){return e.category===t.currentCategory}),t.isInStock&&(e=e.filter(function(t){return 0!==t.stock})),t.sortByPrice)switch(t.sortByPrice){case 1:e.sort(function(t,e){return e.price-t.price}),console.log("sortes");break;case-1:e.sort(function(t,e){return t.price-e.price});break}return e},getAmount:function(t){var e=[],n=0;for(var r in t.categories)e[r]=0;return t.goods.map(function(t){e[t.category]++,n++}),e[0]=n,e},getCategories:function(t){return t.categories},getCurrentCategory:function(t){return t.currentCategory},getSortByPrice:function(t){return t.sortByPrice},getIsInStock:function(t){return t.isInStock}},Y={changeCategory:function(t,e){t.currentCategory=e},changeIsInStock:function(t){t.isInStock=!t.isInStock},changeSortByPrice:function(t,e){t.sortByPrice=e}},Z={changeCategory:function(t,e){t.commit("changeCategory",e)},changeIsInStock:function(t){t.commit("changeIsInStock")},changeSortByPrice:function(t,e){t.commit("changeSortByPrice",e)}},tt={state:W,getters:X,mutations:Y,actions:Z};r["a"].use(u["a"]);var et=new u["a"].Store({state:{},getters:{},mutations:{},actions:{},modules:{cart:V,goods:tt}});r["a"].config.productionTip=!1,new r["a"]({router:D,store:et,render:function(t){return t(v)}}).$mount("#app")},"5b46":function(t,e,n){"use strict";var r=n("7d3a"),a=n.n(r);a.a},"5c0b":function(t,e,n){"use strict";var r=n("5e27"),a=n.n(r);a.a},"5c34":function(t,e,n){t.exports=n.p+"img/book1.6e36ebde.jpg"},"5e27":function(t,e,n){},"5ea4":function(t,e,n){"use strict";var r=n("6425"),a=n.n(r);a.a},"62b2":function(t,e,n){},6425:function(t,e,n){},"7d3a":function(t,e,n){},bcc9:function(t,e,n){},d7da:function(t,e,n){"use strict";var r=n("62b2"),a=n.n(r);a.a}});
//# sourceMappingURL=app.578f39ee.js.map